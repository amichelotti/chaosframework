<!DOCTYPE html>
<html>
<head>
    
    
        <link href="powersupply.css" rel="stylesheet" type="text/css">

    <script type="text/Javascript" src="Drinks/Drinks.js"></script>
    <script type="text/Javascript" src="jquery.js"></script>
    <script type="text/Javascript" src="flot/jquery.flot.js"></script>

    <script type="text/Javascript" src="chaos.js"></script>
   
</head>
<body onload="setInterval(onload, 1500)">
    <!-- Power supply connection section -->
    <div id="headerContainer" class="container">
        <table>
            <tr>
                <td>
                    <form name="init" onsubmit="initCU(); return false;">
                    PowerSupplyID:
                    <input class="headerInput" type="text" name="InitID">
                    <input type="submit" value="Init">
                    </form>
                </td>
                <td><led id="connected" value="0"></led></td>
                <td>(Connected)</td>
            </tr>
            <tr>
                <td colspan="3">Timestamp: <b id="timestamp">0</b></td>
            </tr>
        </table>
    </div>
    <!-- spacer -->
    <div class="spacer">&nbsp;</div>
    <!-- Readout -->
    <div id="readoutContainer" class="container">
        <table>
            <tr>
                <td rowspan="3">
			<div id="powersupply-graph" class="powersupply-graph-class"></div>		
                </td>
                <td class="digitalIndicator">
                    <display type="digital" id="current" cipher="5" significative="2" width="100px" height="40px"></display>
<!--                        <display type="digital" class="digitalIndicator" id="current" cipher="5" significative="2" ></display>-->
                    Current
                </td>
            </tr>
            <tr>
                <td class="digitalIndicator">
                    <!--<display type="digital" class="digitalIndicator" id="set"  cipher="5" significative="2"></display>-->
                    <display type="digital" id="set"  cipher="5" significative="2" width="100px" height="40px"></display>
                    Set
                </td>
            </tr>
            <tr>
                <td>
                    <table>
                        <tr>
                            <td><led id="on" value="0"></led></td>
                            <td>On</td>
                        </tr>
                        <tr>
                            <td><led id="stby" value="0"></led></td>
                            <td>StandBy</td>
                        </tr>
                        <tr>
                            <td><led id="alarm" value="0"></led></td>
                            <td>Alarm</td>
                            <td><b id="alarms">0</b></td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>
    <!-- spacer -->
    <div class="spacer">&nbsp;</div>
    <!-- Control -->
    <div id="controlContainer" class="container">
        <table>
            <tr>
                <td class="controllerTd"><br/><br/>Toggle ON/OFF</td>
                <td id="switchOn" class="controllerTd">
                    ON
                    <switch id="ON" onchange="powerSupplyToggle(this.value)"  ></switch>
                    OFF
                </td>
                <td rowspan="2" class="spacerTd">&nbsp;</td>
                <td rowspan="2">
                    <table>
                        <tr>
                            <td colspan="2" class="digitalIndicator">Polarity</td>
                        </tr>
                        <tr>
                            <td><led id="polNeg" value="0"></led></td>
                            <td>
                                <button class="polarity" name="polarity" value="-1" onclick="polNeg.toggle();powerSupplyPol(-1);">Neg</button>
                            </td>
                        </tr>
                        <tr>
                            <td><led id="polOpen" value="0"></led></td>
                            <td>
                                <button class="polarity" name="polarity" value="0" onclick="polOpen.toggle();powerSupplyPol(0);">Open</button>
                            </td>
                            <td > <b>Current</b><br></td><td> <input type="text" id="currentSet" name="currentSet" class="controlInput" value="0" /> 
                            </td>
                            <td><input type="button" value="Set" onclick="set.value = currentSet.value;powerSupplySet(currentSet.value);" />
                            </td>
                        </tr>
                        <tr>
                            <td><led id="polPos" value="0"></led></td>
                            <td>
                                <button class="polarity" name="polarity" value="1" onclick="polPos.toggle();powerSupplyPol(1);">Pos</button>
                            </td>
                            <td><input type="button" value="Reset Alarms" onclick="powerSupplyClrAlarms();" />
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
          
        </table>
    </div>
    
       
</body>
</html>
